<div class="container">
  <h2>Returned Books</h2>
  <hr>
  <table class="responsive table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Title</th>
      <th scope="col">Author</th>
      <th scope="col">ISBN</th>
      <th scope="col">Rating</th>
      <th scope="col"><i class="bi bi-gear"></i></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let book of returnedBooks.content;let index=index">
      <td>{{ book.title }}</td>
      <td>{{ book.authorName }}</td>
      <td>{{ book.isbn }}</td>
      <td>{{ book.rating }}</td>
      <td>{{ index + 1 }}</td>
      <td>
        <div class="d-flex gap-2 fs-4">
          <i *ngIf="!book.returned" class="bi bi-send-slash-fill text-danger" role="button"></i>
          <i *ngIf="book.returned && book.returnApproved" class="bi bi-send-check-fill text-success"></i>
          <i *ngIf="book.returned && !book.returnApproved" (click)="approveReturn(book)" class="bi bi-send text-primary" role="button" ></i>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-center mt-2">
    <nav aria-label="Page Navigation">
      <ul class="pagination">
        <li class="page-item">
          <a (click)="goToFirst()" [class.disabled]="isFirstPage" role="button" class="page-link"
             aria-label="Go to first page">
            <i class="bi bi-arrow-counterclockwise"></i>
          </a>
        </li>
        <li class="page-item">
          <a (click)="goToPrevious()" [class.disabled]="isFirstPage" role="button" class="page-link"
             aria-label="Previous">
            <i class="bi bi-caret-left-fill"></i>
          </a>
        </li>
        <li class="page-item" *ngFor="let _ of [].constructor(totalPages);let i=index">
          <a (click)="goToPage(i)" [class.active]="page==i" role="button" class="page-link" aria-label="page">
            {{ i + 1 }}
          </a>
        </li>
        <li class="page-item">
          <a (click)="goToNext()" [class.disabled]="isLastPage" role="button" class="page-link" aria-label="Next">
            <i class="bi bi-caret-right-fill"></i>
          </a>
        </li>
        <li class="page-item">
          <a (click)="goToLast()" [class.disabled]="isLastPage" role="button" class="page-link"
             aria-label="Go to last page">
            <i class="bi bi-arrow-clockwise"></i>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
